<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Cinematic Cost Matrix ğŸ“ŠğŸ¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* å‡çº§ä¸ºæ›´æœ‰ç§‘æŠ€æ„Ÿçš„è‰²è°ƒï¼šæå…‰è“ç´«è‰²ç³» */
            --bg-color: #f8fafc;
            --panel-bg: #ffffff;
            --text-main: #1e293b;
            --text-sub: #64748b;
            --primary: #6366f1; /* ç°ä»£æ„Ÿåè¶³çš„é›è“è‰² */
            --primary-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            --accent: #22d3ee; /* ç”µå­é’è‰²ç‚¹ç¼€ */
            --border: #e2e8f0;
            --radius: 16px;
            --max-width: 700px; /* ç»Ÿä¸€å®½åº¦æ ‡å‡† */
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 40px 20px;
            box-sizing: border-box;
            /* ç»†è…»çš„ç°ä»£èƒŒæ™¯ç½‘æ ¼ */
            background-image: radial-gradient(#e2e8f0 1px, transparent 1px);
            background-size: 24px 24px;
        }

        /* â¬‡ï¸ å¤´å›¾ï¼šå®½åº¦é”å®šä¸º 700px â¬‡ï¸ */
        .header-image {
            width: 100%;
            max-width: var(--max-width);
            height: auto;
            margin-bottom: 24px;
            border-radius: var(--radius);
            /* å»æ‰ç”Ÿç¡¬çš„æŠ•å½±ï¼Œæ”¹ç”¨æŸ”å’Œçš„è´¨æ„Ÿ */
            box-shadow: 0 4px 20px rgba(0,0,0,0.03);
        }

        /* â¬‡ï¸ é¢æ¿ï¼šå®½åº¦ä¸å¤´å›¾å®Œå…¨ä¸€è‡´ â¬‡ï¸ */
        .container {
            background: var(--panel-bg);
            padding: 40px;
            border-radius: var(--radius);
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.05), 0 10px 10px -5px rgba(0,0,0,0.02);
            width: 100%;
            max-width: var(--max-width);
            border: 1px solid var(--border);
            animation: fadeIn 0.6s ease-out;
            box-sizing: border-box;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            text-align: center;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 32px;
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .group { margin-bottom: 24px; }
        
        label { 
            display: block; 
            font-size: 0.85rem; 
            margin-bottom: 8px; 
            color: var(--text-sub);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        select, input { 
            width: 100%; 
            padding: 14px 18px; 
            border: 1px solid var(--border); 
            border-radius: 12px; 
            font-size: 1rem; 
            background: #fcfcfd;
            color: var(--text-main);
            outline: none;
            transition: all 0.2s ease;
            box-sizing: border-box;
            -webkit-appearance: none;
            appearance: none;
            /* è‡ªå®šä¹‰ç®­å¤´å›¾æ ‡ */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 18px;
        }

        select:focus, input:focus { 
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            background-color: white;
        }

        /* â¬‡ï¸ ç»“æœå¡ç‰‡ï¼šé‡‡ç”¨æ›´é«˜çº§çš„æ¸å˜è´¨æ„Ÿ â¬‡ï¸ */
        .result-card { 
            background: #f8fafc;
            padding: 30px; 
            border-radius: var(--radius); 
            margin-top: 32px; 
            text-align: center; 
            border: 1px solid var(--border);
            position: relative;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
            background: var(--primary-gradient);
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .total-price { 
            font-size: 3rem; 
            font-weight: 800; 
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 12px 0;
        }

        .note { font-size: 0.9rem; color: var(--text-sub); font-weight: 400; }

        /* å“åº”å¼å¾®è°ƒ */
        @media (max-width: 600px) {
            .container { padding: 24px; }
            .total-price { font-size: 2.4rem; }
        }
    </style>
</head>
<body>

    <img src="https://github.com/foreverai2026/ai-price-calculator/blob/main/%E9%A1%B6%E9%83%A8%E5%9B%BE_%E5%89%AF%E6%9C%AC.jpg?raw=true" alt="AI Cinematic Workflow" class="header-image">

    <div class="container">
        <h2>AI Cinematic Cost Matrix ğŸ“ŠğŸ¬</h2>
        
        <div class="group">
            <label>Function Module ğŸ’¡</label>
            <select id="funcSelect" onchange="initModels()"></select>
        </div>

        <div class="group">
            <label>Model Unit ğŸ’»</label>
            <select id="modelSelect" onchange="updateUI()"></select>
        </div>

        <div class="group">
            <label id="unitLabel">Quantity â±ï¸</label>
            <input type="number" id="quantity" value="5" oninput="calculate()">
        </div>

        <div class="result-card">
            <label>ESTIMATED TOTAL COST (RMB) ğŸ’°</label>
            <div class="total-price" id="totalDisplay">Â¥ 0.00</div>
            <div id="priceNote" class="note">Ready for calculation</div>
        </div>
    </div>

<script>
    // é€»è¾‘éƒ¨åˆ†ä¿æŒä¸å˜ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸
    let rawData = {};
    const JSON_URL = 'https://raw.githubusercontent.com/foreverai2026/ai-price-calculator/main/prices.json';

    async function loadData() {
        try {
            const res = await fetch(JSON_URL);
            rawData = await res.json();
            const functions = [...new Set(rawData.models.map(m => m.function))];
            const funcSelect = document.getElementById('funcSelect');
            functions.forEach(f => funcSelect.add(new Option(f, f)));
            initModels();
        } catch (e) {
            document.getElementById('priceNote').innerText = "Data Sync Error âš ï¸";
        }
    }

    function initModels() {
        const selectedFunc = document.getElementById('funcSelect').value;
        const modelSelect = document.getElementById('modelSelect');
        modelSelect.innerHTML = '';
        const filtered = rawData.models.filter(m => m.function === selectedFunc);
        filtered.forEach(m => modelSelect.add(new Option(m.name, m.official_id)));
        updateUI();
    }

    function updateUI() {
        const model = getSelectedModel();
        if(!model) return;
        document.getElementById('unitLabel').innerText = `Input (${model.unit}) â±ï¸`;
        document.getElementById('priceNote').innerText = `Current Rate: ${model.price} ${model.currency} / ${model.unit}`;
        calculate();
    }

    function getSelectedModel() {
        const id = document.getElementById('modelSelect').value;
        return rawData.models.find(m => m.official_id === id);
    }

    function calculate() {
        const model = getSelectedModel();
        if(!model) return;
        const q = parseFloat(document.getElementById('quantity').value) || 0;
        let cost = 0;

        if (model.unit === "5ç§’") {
            cost = Math.ceil(q / 5) * model.price;
        } else {
            cost = q * model.price;
        }

        if (model.currency === "USD") {
            cost = cost * (rawData.config.usd_to_rmb || 7.2);
        } else if (model.currency === "Points") {
            cost = cost * 0.1; 
        }

        document.getElementById('totalDisplay').innerText = `Â¥ ${cost.toFixed(2)}`;
    }

    loadData();
</script>
</body>
</html>
